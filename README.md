# Swiss EV Charging Station Status

Monitor Swiss EV charging infrastructure using open data from the Swiss Federal Office of Energy. The collectors here ingest dynamic status updates every ~30 seconds and daily snapshots of station metadata, store them locally, and provide notebooks for exploration.

## Data sources
- Static inventory: https://data.geo.admin.ch/ch.bfe.ladestellen-elektromobilitaet/data/ch.bfe.ladestellen-elektromobilitaet.json
- Dynamic status: https://data.geo.admin.ch/ch.bfe.ladestellen-elektromobilitaet/status/ch.bfe.ladestellen-elektromobilitaet.json

## Components
- `update_charge.py`: polls dynamic EVSE statuses every 30s (with ±2s jitter), records only changes, and writes a partitioned Parquet dataset under `data/charge/DATE=YYYY-MM-DD/` (columns: `STATION_ID`, `STATUS`, `TIME`, `DATE`; timezone Europe/Zurich; ZSTD compression).
- `update_stations.py`: fetches the full static station inventory once per day and saves `data/stations/stations_YYYYMMDDHHMMSS.json.gz`.
- `compact.py`: merges previous-day Parquet shards into `merged.parquet` and removes the individual files; safe to schedule just after midnight.
- Notebooks (`analyze.ipynb`, `occupancy.ipynb`, `preproc.ipynb`, plus `tmp/*.ipynb`) for exploratory analysis and plotting.

## Data layout
- `data/charge/DATE=YYYY-MM-DD/*.parquet` — raw status deltas
- `data/charge/DATE=YYYY-MM-DD/merged.parquet` — compacted daily file
- `data/stations/stations_YYYYMMDDHHMMSS.json.gz` — daily static dump
- `fig/` — plots generated by notebooks

## Setup
```bash
python -m venv .venv
source .venv/bin/activate
pip install -r 